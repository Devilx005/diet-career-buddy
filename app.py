import streamlit as st
from styles import get_main_css

# Import all dashboards (from root directory)
import tech_dashboard
import salary_dashboard
import learning_dashboard
import diet_guide
import interview_prep
import jobs_dashboard

st.set_page_config(
    page_title="ğŸ“ DIET Career Buddy", 
    layout="wide", 
    initial_sidebar_state="collapsed"
)

# Apply CSS
st.markdown(get_main_css(), unsafe_allow_html=True)

# Session State
if 'page' not in st.session_state:
    st.session_state.page = 'home'

# Header
st.markdown('<div class="header">ğŸ“ DIET Career Buddy - Enhanced Edition</div>', unsafe_allow_html=True)

# Navigation Buttons
col1, col2, col3, col4, col5, col6 = st.columns(6)

with col1:
    if st.button("ğŸ’»\nTech\nCareers", key="tech"):
        st.session_state.page = 'tech'
        st.rerun()

with col2:
    if st.button("ğŸ’°\nLive\nSalary", key="salary"):
        st.session_state.page = 'salary'
        st.rerun()

with col3:
    if st.button("ğŸ“š\nLearning\nPaths", key="learn"):
        st.session_state.page = 'learn'
        st.rerun()

with col4:
    if st.button("ğŸ“\nDIET\nGuide", key="diet"):
        st.session_state.page = 'diet'
        st.rerun()

with col5:
    if st.button("ğŸ¯\nInterview\nPrep", key="interview"):
        st.session_state.page = 'interview'
        st.rerun()

with col6:
    if st.button("ğŸ“Š\nLive\nJobs", key="jobs"):
        st.session_state.page = 'jobs'
        st.rerun()

# Simple Routing
if st.session_state.page == 'tech':
    tech_dashboard.show()
    if st.button("ğŸ  Back to Home", key="back_tech"):
        st.session_state.page = 'home'
        st.rerun()

elif st.session_state.page == 'salary':
    salary_dashboard.show()
    if st.button("ğŸ  Back to Home", key="back_salary"):
        st.session_state.page = 'home'
        st.rerun()

elif st.session_state.page == 'learn':
    learning_dashboard.show()
    if st.button("ğŸ  Back to Home", key="back_learn"):
        st.session_state.page = 'home'
        st.rerun()

elif st.session_state.page == 'diet':
    diet_guide.show()
    if st.button("ğŸ  Back to Home", key="back_diet"):
        st.session_state.page = 'home'
        st.rerun()

elif st.session_state.page == 'interview':
    interview_prep.show()
    if st.button("ğŸ  Back to Home", key="back_interview"):
        st.session_state.page = 'home'
        st.rerun()

elif st.session_state.page == 'jobs':
    jobs_dashboard.show()
    if st.button("ğŸ  Back to Home", key="back_jobs"):
        st.session_state.page = 'home'
        st.rerun()

else:
    # Home Page
    st.markdown("## ğŸ“ **Welcome to DIET Career Buddy!**")
    st.markdown("### *Your AI-Powered Career Assistant with Real-Time Data*")
    
    st.markdown("""
    <div class="dashboard-card">
        <strong>ğŸš€ What Makes Us Special:</strong><br><br>
        â€¢ <strong>Real-Time APIs:</strong> Live job market data<br>
        â€¢ <strong>DIET-Specific Guidance:</strong> Tailored for engineering students<br>
        â€¢ <strong>Interactive Dashboards:</strong> 6 comprehensive tools<br>
        â€¢ <strong>Professional Design:</strong> Clean, modern interface<br>
        â€¢ <strong>Market Intelligence:</strong> AI-powered insights
    </div>
    """, unsafe_allow_html=True)
